<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<!-- <script src="js/FileSaver.min.js" charset="utf-8"></script>
		<script src="js/Blob.js"></script>
		<script src="js/FileSaver.js"></script> -->
		<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
		<link rel="shortcut icon" href="#" />
		
	</head>

	<body>
		<div class="mbox-c">
			<table class="enname-all">
				<tbody>
					<tr>
						<th>英文名</th>
						<th>性别</th>
						<th>音标</th>
						<th>中文</th>
						<th>来源</th>
						<th>流行度</th>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lacey">Lacey</a>
						</td>
						<td><em class="female" title="女性"></em></td>
						<td><i>['leisi]</i></td>
						<td>莱西</td>
						<td><bdo>高卢语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Lacy">Lacy</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>['leisi]</i></td>
						<td>莱西</td>
						<td><bdo>古法语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Ladd">Ladd</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>['l?d]</i></td>
						<td>拉德</td>
						<td><bdo>中世纪英语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Laird">Laird</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>[l??d]</i></td>
						<td>莱尔德</td>
						<td><bdo>中世纪英语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lake">Lake</a>
						</td>
						<td><em class="neutral" title="中性"></em></td>
						<td><i>[leik]</i></td>
						<td>莱克</td>
						<td><bdo>拉丁语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Lamb">Lamb</a>
						</td>
						<td><em class="neutral" title="中性"></em></td>
						<td><i>[l?m]</i></td>
						<td>拉姆</td>
						<td><bdo>古英语</bdo></td>
						<td><span class="star3"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lambert">Lambert</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>['l?mb?t]</i></td>
						<td>兰伯特</td>
						<td><bdo>德语</bdo></td>
						<td><span class="star3"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Lamont">Lamont</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>['l?m?nt]</i></td>
						<td>拉蒙特</td>
						<td><bdo>古诺斯语</bdo></td>
						<td><span class="star1"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lana">Lana</a>
						</td>
						<td><em class="female" title="女性"></em></td>
						<td><i>['l?n?]</i></td>
						<td>拉娜</td>
						<td><bdo>希腊语</bdo></td>
						<td><span class="star0"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Lancaster">Lancaster</a>
						</td>
						<td><em class="neutral" title="中性"></em></td>
						<td><i>['l??k?st?]</i></td>
						<td>兰卡斯特</td>
						<td><bdo>古英语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lance">Lance</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>[l?ns]</i></td>
						<td>兰斯</td>
						<td><bdo>日耳曼语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Land">Land</a>
						</td>
						<td><em class="neutral" title="中性"></em></td>
						<td><i>[l?nd]</i></td>
						<td>兰德</td>
						<td><bdo>古英语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lane">Lane</a>
						</td>
						<td><em class="neutral" title="中性"></em></td>
						<td><i>[lein]</i></td>
						<td>莱恩</td>
						<td><bdo>中世纪英语</bdo></td>
						<td><span class="star4"></span></td>
					</tr>
					<tr>
						<td>
							<a href="/Lang">Lang</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>[l??]</i></td>
						<td>兰格</td>
						<td><bdo>斯堪的那维亚语</bdo></td>
						<td><span class="star3"></span></td>
					</tr>
					<tr class="bg">
						<td>
							<a href="/Lange">Lange</a>
						</td>
						<td><em class="male" title="男性"></em></td>
						<td><i>['l???]</i></td>
						<td>兰格</td>
						<td><bdo>盎格鲁-撒克逊语</bdo></td>
						<td><span class="star2"></span></td>
					</tr>
				</tbody>
			</table>
			<div class="pager" style="margin-top:15px;">
				<a href="/list/all/L/1">最前页</a>
				<span>
									<a href="/list/all/L/1">上一页</a>
																		<font color="#FF7800">1</font>
																											<a href="/list/all/L/2">2</a>
																											<a href="/list/all/L/3">3</a>
																											<a href="/list/all/L/4">4</a>
																											<a href="/list/all/L/5">5</a>
																											<a href="/list/all/L/2">下一页</a>
								</span> 共1/7页&nbsp;&nbsp;
				<a href="/list/all/L/7">最后页</a>
			</div>
		</div>
	</body>
	
	<script >
		//http://ename.dict.cn/list/celebrity/1
		/*jquery实现**/
		/*
		$(document).ready(function() {
			
			var trList = $("tr").slice(1);
			var allInfo = "";
			$.each(trList, function() {
				//console.log($(this));
				var cname = $(this).children("td:eq(3)").text();
				var ename = $(this).find("a").text();
				var gender = $(this).find("em").attr("title") == "男性" ? "男" : "女";
				
				var infoStr = ename + "-" +
					 gender + "-" +
					 cname + "；"  ;
				allInfo += infoStr;	
			});
			
			$.ajax({
				url:"/ssm-crud/fst/"+allInfo,
				type:"POST",
				success:function(result){
					console.log(allInfo);
					alert(result.msg);
				}
			});
			//var file = new File([allInfo], "info.txt", { type: "text/plain;charset=utf-8" });
    		//saveAs(file);
    		
			//获取最后页页数
			var lastIndex = $("a:contains('最后页')").attr("href").lastIndexOf("/");
			var lastPage = $("a:contains('最后页')").attr("href").substring(lastIndex + 1);
			console.log(lastPage);
			//自动翻页
			
			for(var i = 0; i < lastPage; i++) {
				setInterval(function(){
					$("a:contains('下一页')")[0].click();
				},3000);
			} 
		});*/
		
		
		/**
		 * DOM实现
		 * */
		
		$(document).ready(function(){
			//获取主要信息
			var trList = document.getElementsByTagName("tr");
			var allInfo = "";
			for(var i=1;i<trList.length;i++){
				var tdList = trList[i].getElementsByTagName("td");
				
				var ename = tdList[0].getElementsByTagName("a")[0].innerHTML;
				var gender = tdList[1].getElementsByTagName("em")[0].title.substring(0,1);
				var cname = tdList[3].innerText;
				var infoStr = ename + "-" +
					 gender + "-" +
					 cname +"；";
				allInfo += infoStr;	
				
			}
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.open("POST","/ssm-crud/fst",true);
			xmlhttp.send(allInfo);
			
			console.log(allInfo);
			
			
		});
	</script>

</html>